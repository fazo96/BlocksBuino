enum soundsFxChannel_t {
  SND_FX_CHANNEL_1 = 0,
  SND_FX_CHANNEL_2 = 1,
  SND_FX_CHANNEL_3 = 2,
  SND_FX_CHANNEL_4 = 3
};

enum soundsFx_t {
  SND_FX_LINE_COMPLETED = 0,
  SND_FX_ROTATE         = 1,
  SND_FX_GAME_OVER      = 2,
  SND_FX_PIECE_DROP     = 3
};

// MUSIC
const uint16_t PROGMEM tetris_main1[] = {0x708E,0x5C4E,0x604E,0x684E,0x702E,0x682E,0x604E,0x5C4E,0x547E,0x5418,0x544E,0x604E,0x708E,0x684E,0x604E,0x5CCE,0x604E,0x688E,0x708E,0x608E,0x547E,0x5414,0x550E,0x40,0x688E,0x744E,0x848E,0x7C4E,0x744E,0x70CE,0x604E,0x708E,0x684E,0x604E,0x5C7E,0x10,0x5C4E,0x604E,0x688E,0x708E,0x608E,0x547E,0x1014,0x548E,0x541C,0x541A,0x5418,0x5416,0x5414,0x5412,0x20,0x410E,0x310E,0x390E,0x2D0E,0x310E,0x250E,0x20FE,0x2018,0x2C8E,0x2C1C,0x2C1A,0x2C18,0x2C16,0x2C14,0x2C12,0x20,0x410E,0x310E,0x390E,0x2D0E,0x307E,0x301E,0x407E,0x401E,0x550E,0x510E,0x502C,0x502A,0x5028,0x5026,0x5024,0x5022,0x5040,0x0000};
const uint16_t PROGMEM tetris_main2[] = {0x5C8E,0x504E,0x544E,0x5C8E,0x544E,0x504E,0x407E,0x4018,0x404E,0x544E,0x608E,0x5C4E,0x544E,0x504E,0x404E,0x504E,0x544E,0x5C8E,0x608E,0x548E,0x407E,0x4014,0x410E,0x40,0x448E,0x544E,0x603E,0x10,0x601E,0x10,0x601E,0x10,0x5C4E,0x544E,0x30CE,0x104E,0x304E,0x542E,0x302E,0x144E,0x104E,0x504E,0x104E,0x504E,0x544E,0x5C4E,0x504E,0x604E,0x504E,0x544E,0x104E,0x107E,0x1014,0x108E,0x101C,0x101A,0x1018,0x1016,0x1014,0x1012,0x20,0x30FE,0x3014,0x250E,0x2CFE,0x2C14,0x210E,0x24FE,0x2414,0x10FE,0x1014,0x110E,0x208E,0x201C,0x201A,0x2018,0x2016,0x2014,0x2012,0x20,0x310E,0x250E,0x2CFE,0x2C1E,0x210E,0x248E,0x308E,0x410E,0x390E,0x382C,0x382A,0x3828,0x3826,0x3824,0x3822,0x3840,0x0000};
const uint16_t PROGMEM tetris_drum[] = {0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x2C4E,0x304E,0x384E,0x40,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0x60,0x702F,0xE0,0x544E,0x104E,0x544E,0x104E,0x544E,0x104E,0x544E,0x104E,0x504E,0x104E,0x504E,0x104E,0x504E,0x104E,0x504E,0x104E,0x544E,0x104E,0x544E,0x104E,0x544E,0x104E,0x544E,0x104E,0x504E,0x104E,0x504E,0x104E,0x100,0x544E,0x104E,0x544E,0x104E,0x544E,0x104E,0x544E,0x104E,0x504E,0x104E,0x504E,0x104E,0x504E,0x104E,0x504E,0x104E,0x544E,0x104E,0x544E,0x104E,0x544E,0x104E,0x544E,0x104E,0x204E,0x104E,0x204E,0x104E,0x100,0x0000};

void playMusic(){
  gb.sound.playTrack(tetris_main1, 1);
  gb.sound.playTrack(tetris_main2, 2);
  gb.sound.playTrack(tetris_drum, 3);
}

const int soundfx[4][8] = {
  {0,34,75,1,0,1,7,11}, // SND_FX_LINE_COMPLETED
  {0,33,53,1,0,5,7,3},  // SND_FX_ROTATE
  {0,30,34,10,0,1,7,25}, // SND_FX_GAME_OVER
  {1,1,0,0,0,0,7,2} // SND_FX_PIECE_DROP
};

void PlaySoundFxGameOver() {
  PlaySoundFx(SND_FX_GAME_OVER, SND_FX_CHANNEL_1);
}

void PlaySoundFxLineCompleted() {
  PlaySoundFx(SND_FX_LINE_COMPLETED, SND_FX_CHANNEL_1);
}

void PlaySoundFxRotation() {
  PlaySoundFx(SND_FX_ROTATE, SND_FX_CHANNEL_1);
}

void PlaySoundFxPieceDrop() {
  PlaySoundFx(SND_FX_PIECE_DROP, SND_FX_CHANNEL_1);
}

//Play Gambuino sound effect (http://www.yodasvideoarcade.com/gamebuino.php)
void PlaySoundFx(int fxno, int channel) {
  gb.sound.command(0,soundfx[fxno][6],0,channel); // set volume
  gb.sound.command(1,soundfx[fxno][0],0,channel); // set waveform
  gb.sound.command(2,soundfx[fxno][5],-soundfx[fxno][4],channel); // set volume slide
  gb.sound.command(3,soundfx[fxno][3],soundfx[fxno][2]-58,channel); // set pitch slide
  gb.sound.playNote(soundfx[fxno][1],soundfx[fxno][7],channel); // play note
}
